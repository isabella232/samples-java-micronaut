<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Okta Micronaut Example</title>

    <base href="/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
</head>

<body>

<div th:if="${security}">
   <span><h1>User Profile</h1></span>

   <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Key</th>
          <th>Value</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="item : ${security.attributes}">
            <td th:text="${item.key}">Key</td>
            <td th:id="${'claim-' + item.key}" th:text="${item.value}">Value</td>
        </tr>
      </tbody>
   </table>
</div>

<div>
    <a th:unless="${security}">
        <button id="login-btn" class="btn btn-success">Login</button>
        <script type="text/javascript">
            document.getElementById("login-btn").onclick = function () {
                location.href = "/oauth/login/okta";
            };
        </script>
    </a>

    <a th:if="${security}">
        <button id="logout-btn" class="btn btn-danger">Logout</button>
        <script type="text/javascript">
            document.getElementById("logout-btn").onclick = function () {
                location.href = "/oauth/logout";
            };
        </script>
    </a>
</div>

</body>
</html>
